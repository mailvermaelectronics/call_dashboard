<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Secure Login - Call Dashboard</title>

<style>
  body{font-family:Inter,system-ui; background:#f4f6fa; display:flex; align-items:center; justify-content:center; height:100vh;}
  .box{background:#fff; padding:25px; width:350px; border-radius:12px; box-shadow:0 6px 25px rgba(0,0,0,0.1);}
  input{width:100%; padding:10px; margin-top:10px; border-radius:8px; border:1px solid #d1d5db;}
  button{width:100%; padding:12px; margin-top:12px; border:0; border-radius:8px;
    background:#2563eb; color:#fff; font-weight:600; cursor:pointer;}
  .muted{font-size:13px; color:#6b7280; margin-top:5px;}
  #msg{margin-top:10px; font-size:14px;}
</style>

</head>
<body>
<div class="box">

  <h2>Login</h2>

  <div id="loginBox">
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <div class="muted">Enter correct username & password to access dashboard.</div>
  </div>

  <div id="msg"></div>

</div>

<script>
// USER DATA (same as before)
const USERS = {
  "admin": {
     // password = admin123
     passwordHash: "9667a43bca5f7472d3e1b25c1cf6f831960c9bdd5eaaf19a99d426f9739b29e1",
  }
};

// SHA-256 hash
async function sha256hex(str){
  const buf = await crypto.subtle.digest("SHA-256", new TextEncoder().encode(str));
  return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

// show message
function msg(text, bad=false){
  const m = document.getElementById("msg");
  m.style.color = bad ? "#dc2626" : "#059669";
  m.innerText = text;
}

// login function (NO OTP)
async function login(){
  msg("");

  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value;

  if(!u || !p){ msg("Enter username & password", true); return; }

  const user = USERS[u];
  if(!user){ msg("Invalid credentials", true); return; }

  const hash = await sha256hex(p);
  if(hash !== user.passwordHash){ 
    msg("Invalid credentials", true); 
    return;
  }

  // SUCCESS
  msg("Login successful!");

  localStorage.setItem("auth", "1");

  setTimeout(()=>{
    window.location.href = "dashboard.html";
  }, 600);
}
</script>

</body>
</html>
